class Node:
    def __init__(self, data):
        self.data = data
        self.next = None
        self.previous = None


class Linkedlist:
    def __init__(self):
        self.head = None

    def list_length(self):
        if self.head is None:  # Edge case check
            print("List is empty")
            return
        current_node = self.head
        length = 0
        while True:
            if current_node is None:
                break
            current_node = current_node.next
            length += 1
        return length

    def insert_end(self, new_node):
        if self.head is None:
            self.head = new_node
            return
        current_node = self.head
        while True:
            if current_node.next is None:
                break  # Stop traversing. When the traversal stops, we remain at the last node
            current_node = current_node.next
        current_node.next = new_node
        new_node.previous = current_node

    def insert_head(self, new_node):
        if self.head is None:
            self.head = new_node
            return
        temporary_node = self.head
        self.head = new_node
        new_node.next = temporary_node
        temporary_node.previous = new_node

    def insert_at(self, new_node, position):
        if self.head is None:  # Edge case check
            self.head = new_node
            return
        if position == 0:  # Edge case check
            print("Insert head rather")
            return
        if position >= self.list_length():  # Edge case check
            print("Insert end rather")
            return
        if position < 0:
            print("Position out of bounds")
            return
        current_node = self.head
        count = 0
        while True:
            if count == position:
                new_node.previous = current_node.previous
                current_node.previous.next = new_node
                current_node.previous = new_node
                new_node.next = current_node
                break
            current_node = current_node.next
            count += 1

    def delete_end(self):
        if self.head is None:
            print("List is empty")
            return
        current_node = self.head
        while True:
            if current_node.next.next is None:
                break
            current_node = current_node.next
        current_node.next.previous = None
        current_node.next = None

    def delete_head(self):
        if self.head is None:
            print("List is empty")
            return
        current_head = self.head
        self.head = current_head.next
        new_head = current_head.next
        new_head.previous.next = None
        new_head.previous = None

    def delete_at(self, position):
        if self.head is None:
            print("List empty")
            return
        if position >= self.list_length():
            print("Delete end rather")
            return
        if position == 0:
            print("Delete head rather")
            return
        if position < 0:
            print("Position out of bounds")
            return
        current_node = self.head
        current_position = 0
        while True:
            if current_position == position:
                current_node.previous.next = current_node.next
                current_node.next.previous = current_node.previous
                current_node.next = None
                current_node.previous = None
                break
            current_node = current_node.next
            current_position += 1

    def print_list(self):
        if self.head is None:  # Edge case check
            print("List is empty!")
            return
        current_node = self.head
        print("Printing from the beginning")
        while True:
            if current_node is None:
                break
            print(current_node.data)
            if current_node.next is None:
                reverse_node = current_node
            current_node = current_node.next
        print("Printing from the end")
        while True:
            if reverse_node is None:
                break
            print(reverse_node.data)
            reverse_node = reverse_node.previous


node1 = Node(10)
node2 = Node(20)
node3 = Node(80)
node4 = Node(30)
linked_list = Linkedlist()
linked_list.insert_end(node3)
linked_list.insert_end(node2)
linked_list.insert_end(node1)






